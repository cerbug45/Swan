import base64


encoded_code='CmltcG9ydCByZXF1ZXN0cwpmcm9tIGV0aF9hY2NvdW50IGltcG9ydCBBY2NvdW50CmltcG9ydCB0aW1lCmZyb20gY29sb3JhbWEgaW1wb3J0IGluaXQsIEZvcmUKaW1wb3J0IHJhbmRvbQppbXBvcnQgc3RyaW5nCgphID0gaW5wdXQoIkxpc2FucyBLb2R1IDoiKQppZiBhID09ICIweDc2NDM0NjhBMmRSMDA4N2JTNjU0M0JCNDU2NlJ6NDY1NDY4ODc2V2E1NTVhUmRjMzM0Y0U1IjoKICAgIHkgPSBGb3JlLkdSRUVOCiAgICBrID0gRm9yZS5SRUQKICAgIGIgPSBGb3JlLldISVRFCiAgICBwcmludCgiWytdU3VudWN1eWEgQmHEn2xhbsSxeW9yLiIpCiAgICBycGNfdXJsID0gImh0dHBzOi8vc2F0dXJuLXJwYy5zd2FuY2hhaW4uaW8iCiAgICB0aW1lLnNsZWVwKDUpCiAgICBwcmludCh5ICsgIlsrXVN1bnVjdXlhIEJhxJ9sYW5kxLEuIikKICAgIGFkZHJlc3MgPSBpbnB1dCgiWytdQ8O8emRhbiBBZHJlc2k6IikKICAgIHByaXZhdGVfa2V5ID0gaW5wdXQoIlsrXVByaXZhdGUgS2V5ICgweGFiYy4uLikgOiIpCgogICAgZGVmIGdldF9ub25jZSgpOgogICAgICAgIHBheWxvYWQgPSB7CiAgICAgICAgICAgICJqc29ucnBjIjogIjIuMCIsCiAgICAgICAgICAgICJpZCI6IDEsCiAgICAgICAgICAgICJtZXRob2QiOiAiZXRoX2dldFRyYW5zYWN0aW9uQ291bnQiLAogICAgICAgICAgICAicGFyYW1zIjogW2FkZHJlc3MsICJsYXRlc3QiXSwKICAgICAgICB9CiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KHJwY191cmwsIGpzb249cGF5bG9hZCkKICAgICAgICByZXN1bHQgPSByZXNwb25zZS5qc29uKCkKCiAgICAgICAgaWYgInJlc3VsdCIgaW4gcmVzdWx0OgogICAgICAgICAgICByZXR1cm4gaW50KHJlc3VsdFsicmVzdWx0Il0sIDE2KQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBOb25lCgogICAgIyBHw7xuY2VsIG5vbmNlIGRlxJ9lcmluaSBhbAogICAgbm9uY2UgPSBnZXRfbm9uY2UoKQogICAgcHJpbnQoeSArICJbK11DdXJyZW50IE5vbmNlOiIsIGIsIG5vbmNlKQogICAgYSA9IGludChpbnB1dCh5ICsgJ05vbmNlOicpKQogICAgcHJpbnQoaywgIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoKICAgIHdoaWxlIFRydWU6CiAgICAgICAgcHJpdmF0ZUtleSA9ICcnLmpvaW4ocmFuZG9tLmNob2ljZShzdHJpbmcuaGV4ZGlnaXRzKSBmb3IgXyBpbiByYW5nZSg2NCkpCiAgICAgICAgYWNjb3VudCA9IEFjY291bnQuZnJvbV9rZXkocHJpdmF0ZUtleSkKICAgICAgICBhZHJlcyA9IGFjY291bnQuYWRkcmVzcwoKICAgICAgICAjIMSwxZ9sZW0gb2x1xZ90dXJtYQogICAgICAgIHRyYW5zYWN0aW9uID0gewogICAgICAgICAgICAndG8nOiBhZHJlcywKICAgICAgICAgICAgJ3ZhbHVlJzogcmFuZG9tLnJhbmRpbnQoMTAwMDAwMDAwMDAwMCwgMTAwMDAwMDAwMDAwMDAwKSwgICMgMC4wMDAxIFN3YW5jIGRlxJ9lcmkgV2VpIGNpbnNpbmRlbgogICAgICAgICAgICAnZ2FzJzogMjEwMDAsCiAgICAgICAgICAgICdnYXNQcmljZSc6IDUwICogKDEwKio5KSwgICMgR3dlaSBjaW5zaW5kZW4KICAgICAgICAgICAgJ25vbmNlJzogYSwKICAgICAgICAgICAgJ2NoYWluSWQnOiAyMDI0LAogICAgICAgIH0KCiAgICAgICAgIyDEsMWfbGVtaSBpbXphbGFtYQogICAgICAgIHNpZ25lZF90cmFuc2FjdGlvbiA9IEFjY291bnQuc2lnbl90cmFuc2FjdGlvbih0cmFuc2FjdGlvbiwgcHJpdmF0ZV9rZXkpCgogICAgICAgICMgxLDFn2xlbWkgZ8O2bmRlcm1lCiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KHJwY191cmwsIGpzb249ewogICAgICAgICAgICAianNvbnJwYyI6ICIyLjAiLAogICAgICAgICAgICAiaWQiOiAxLAogICAgICAgICAgICAibWV0aG9kIjogImV0aF9zZW5kUmF3VHJhbnNhY3Rpb24iLAogICAgICAgICAgICAicGFyYW1zIjogW3NpZ25lZF90cmFuc2FjdGlvbi5yYXdUcmFuc2FjdGlvbi5oZXgoKV0sCiAgICAgICAgfSkKCiAgICAgICAgcmVzdWx0ID0gcmVzcG9uc2UuanNvbigpCiAgICAgICAgaWYgInJlc3VsdCIgaW4gcmVzdWx0OgogICAgICAgICAgICBwcmludCh5ICsgIlsrXVRYIElEOiIsIGIsIHJlc3VsdFsicmVzdWx0Il0pCiAgICAgICAgICAgIGEgPSBhICsgMQogICAgICAgICAgICBwcmludCh5ICsgIlsrXU5vbmNlOiIsIGssIGEpCiAgICAgICAgICAgIHByaW50KCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludChrLCJbLV1GYWlsZWQgdG8gc2VuZCB0cmFuc2FjdGlvbi4gQ2hlY2sgdGhlIGVycm9yOiIsIHJlc3VsdFsiZXJyb3IiXVsibWVzc2FnZSJdKQogICAgICAgICAgICB0aW1lLnNsZWVwKDMpCg=='

exec(base64.b64decode(encoded_code).decode())ï¿¼Enter
